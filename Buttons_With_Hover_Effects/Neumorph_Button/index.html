<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE-edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css">
        <title>Neumorph Button</title>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');
            * {
                margin: 0;
                padding: 0;
                outline: none;
                list-style: none;
                text-decoration: none;
                box-sizing: border-box;
                color: #111;
                background: transparent;
                border: none;
            }
            body {
                background-color: #fff;
                font-family: 'Montserrat', sans-serif;
            }
            h1,
            h2,
            h3 {
                font-family: 'Montserrat', sans-serif;
                font-weight: bold;
            }
            section {
                background: #e4e9ec;
                min-height: 100vh;
                padding: 3% 0;
                overflow: hidden;
                position: relative;
            }
            .wrap {
                position: relative;
                text-align: center;
                z-index: 2;
            }
            .card {
                display: inline-block;
                background: #e7ebee;
                padding: 168px 100px;
                border-radius: 40px;
                box-shadow: 20px 60px 80px -10px #bac6d2;
                overflow: hidden;
                position: relative;
            }
            h2 {
                font-size: 30px;
                max-width: 200px;
                margin: 0 auto;
                margin-bottom: 20px;
            }
            h2 span {
                color: #1ea1ff;
            }
            p {
                max-width: 200px;
                margin: 0 auto;
                margin-bottom: 60px;
                line-height: 1.6;
            }
            i {
                color: #1ea1ff;
                font-size: 24px;
                display: inline-block;
                position: relative;
            }
            i::before {
                position: relative;
                z-index: 4;
            }
            i::after {
                content: "";
                position: absolute;
                z-index: 3;
                top: 10px;
                left: 8px;
                color: rgba(0, 0, 0, 0.2);
                filter: blur(5px);
                transition: all 0.2s ease-in;
            }
            #reset {
                color: #fff;
                position: absolute;
                z-index: 4;
                display: inline-block;
                padding: 8px;
                top: 50px;
                right: 50px;
                cursor: pointer;
                animation: rotateBtn 1s infinite ease;
                animation-play-state: paused;
            }
            #reset:hover {
                animation-play-state: running;
            }
            @keyframes rotateBtn {
                0% {
                    transform: rotate(0deg);
                }
                100% {
                    transform: rotate(-360deg);
                }
            }
            .buttonWrap {
                display: inline-block;
                position: relative;
            }
            button {
                display: inline-block;
                width: 120px;
                height: 120px;
                line-height: 120px;
                border-radius: 50%;
                position: relative;
                box-shadow: -15px -15px 20px rgb(255 255 255 / 70%), inset 10px 10px 20px rgb(255 255 255 / 80%),
                            10px 14px 30px rgb(0 0 0 / 12%), inset -6px -10px 18px rgb(0 0 0 / 12%);
                background: #e7ebee;
                cursor: pointer;
                transition: all 0.2s ease-in;
                z-index: 2;
                overflow: hidden;
            }
            .progress {
                width: 100%;
                height: 100%;
                position: absolute;
                top: 0;
                left: 0;
                background: #1ea1ff;
                transform: translateY(calc(100% - 111px));
                transition: transform 0.1s linear, filter 0.3s ease-out;
            }
            .done .progress {
                filter: hue-rotate(-45deg);
            }
            .carDone {
                position: absolute;
                z-index: 3;
                background: #e7ebee;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                opacity: 0;
                transition: all 0.2s ease-out;
            }
            .done .carDone {
                opacity: 1;
                pointer-events: auto;
            }
            .carDone i {
                color: #00bb90;
                font-size: 90px;
                position: relative;
                top: 50%;
                transform: translateY(-50%);
            }
            .carDone i::after {
                content: "\f00c";
            }
            .progress::after {
                content: "";
                /* background: url(); */
                background-repeat: repeat-x;
                position: absolute;
                z-index: 1;
                top: -110px;
                width: 6400px;
                height: 111px;
                animation-name: wave;
                animation-iteration-count: infinite;
                animation-delay: -0.125s;
                animation-duration: 3s;
                animation-timing-function: cubic-bezier(0.36, 0.45, 0.63, 0.53);
            }
            @keyframes wave {
                0% {
                    transform: translate3d(-1600px, 0, 0);
                }
                100% {
                    transform: translate3d(0, 0, 0);
                }
            }
            .circleffect {
                position: absolute;
                top: 0;
                left: 0;
                z-index: 0;
                width: 100%;
                height: 100%;
                border-radius: 50%;
                box-shadow: -8px -5px 10px rgb(0 0 0 / 0%), inset 5px 5px 5px rgb(0 0 0 / 8%),
                            10px 14px 30px rgb(255 255 255 / 0%), inset -3px -5px 5px rgb(255 255 255 / 40%);
                transform: scale(0);
                transition: transform 0s ease-in, opacity 0s ease-in;
                opacity: 1;
            }
            .active button {
                line-height: 125px;
                background: rgba(0, 0, 0, 0.01);
                box-shadow: -8px -5px 10px rgb(0 0 0 / 0%), inset 5px 5px 7px rgb(0 0 0 / 8%),
                            10px 14px 30px rgb(255 255 255 / 0%), inset -3px -5px 7px rgb(255 255 255 / 40%);
            }
            .active .circleffect {
                transform: scale(8);
                opacity: 0;
                transition: transform 0.4s ease-in, opacity 0.3s ease-in;
            }
            .active button i::after {
                opacity: 0;
            }
        </style>
    </head>
    <body>
    
        <section>
            <i class="fas fa-undo" id="reset"></i>
            <span class="progress"></span>
            <div class="wrap">
                <div class="card">
                    <div class="carDone"><i class="fas fa-check"></i></div>
                    <h2>Hold <span>Start</span> to continue</h2>
                    <p>We count on you to get it right</p>
                    <div class="buttonWrap">
                        <button><i class="fas fa-power-off"></i></button>
                        <div class="circleffect"></div>
                    </div>
                </div>
            </div>
        </section>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script>
            let timeMove = 0
            let timeDown = ""

            neumorph($('.buttonWrap'))

            $('#reset').on('click', function() {
                reset()
            })

            function neumorph(selector) {
                selector.on('mousedown', function() {
                    selector.addClass('active')
                    timeDown = setInterval(timeUp, 100)
                })
                selector.on('touchstart', function() {
                    selector.addClass('active')
                    timeDown = setInterval(timeUp, 100)
                })
                selector.on('mouseup', function() {
                    selector.removeClass('active')
                    stopTime()
                })
                selector.on('touchend', function() {
                    selector.removeClass('active')
                    stopTime()
                })
                selector.on('mouseleave', function() {
                    selector.removeClass('active')
                    stopTime()
                })
            }

            function timeUp() {
                if (timeMove >= 110) {
                    clearInterval(timeDown)
                    $('body').addClass('done')
                } else {
                    timeMove = timeMove + 2
                    $('.progress').css('transform', 'translateY(calc(100% + 111px - ' + timeMove + '%))')
                }
            }

            function stopTime() {
                clearInterval(timeDown)
            }

            function reset() {
                clearInterval(timeDown)
                timeMove = 0
                $('.progress').css('transform', 'translateY(calc(100% + 111px))')
                $('body').removeClass('done')
            }

        </script>
    </body>
</html>